\chapter{Literatuurstudie}
\label{hoofdstuk:literature}

\section{Raytracing}
Raytracing is een computergraphics techniek om tweedimensionale beelden te genereren van een virtuele driedimensionale wereld bestaande uit driehoeken.
Door elke pixel worden één (of meerdere) stralen gestuurd vanuit een oogpunt.
Voor elke straal wordt dan de dichtstbijzijnde intersectie met een driehoek in de scene berekend.
De kleur van de pixel is dan het gemiddelde van de kleuren van de intersectie punten van de stralen en driehoeken.

Om deze intersecties efficiënt te kunnen doen, wordt gebruik gemaakt van ruimtelijke en/of hiërarchische gegevensstructuren.
De drie hoofdklassen van acceleratie datastructuren in moderne raytracing zijn: Kd-bomen, uniform grid (mogelijks met meerdere niveaus) en as-gealigneerde bounding volume hiërarchieën (BVH). 
Verder wordt het raytracen versneld door: het sturen van pakketten coherente stralen, SIMD extensie van moderne CPU's gebruiken, Bounding Frustrum en interval aritmetica.
Het is nog onduidelijk hoe goed dit voor secundaire stralen werkt ???

Void area: Het verschil tussen de geprojecteerde oppervlakte van het bounding volume en de geprojecteerde oppervlakte van het omhulde object.
Het is aangetoond dat het aantal intersectie testen afhankelijk is van de void oppervlakte. [10]

\section{Binary Space Partitioning bomen}
Binary Space Partitioning bomen of afgekort BSP-bomen splitsen de ruimte op door willekeurig georiënteerde vlakken.
De bounding box van de scene wordt recursief onderverdeeld volgens willekeurige vlakken totdat een bepaalde stopconditie bereikt wordt.
Als enkel as-gealigneerde vlakken gebruikt worden, spreekt men van Kd-bomen.


BSP-bomen zijn in theorie op alle vlakke superieur ten opzicht van Kd-bomen:
\begin{itemize}
	\item De flexibiliteit om splitsingsvlakken te kunnen plaatsen waar ze het meest effectief zijn, zorgt ervoor dat BSP-bomen zich heel goed kunnen aanpassen aan complexe scenes en heel ongelijke scene distributies. Ze zijn robuuster dan Kd-bomen.
	\item Elke Kd-boom kan als een BSP-boom worden uitgedrukt.
\end{itemize}
Een Kd-boom is relatief makkelijk te breken met niet as-gealigneerde geometrie, \cite{Ize} haalt het volgende voorbeeld aan: Neem een smal, lang object, als dit object as-gealigneerd is zal de Kd-boom zeer efficiënt zijn, maar als dit object diagonaal georiënteerd is, zal de kwaliteit van de Kd-boom sterk verminderen.
Voor de BSP-boom - in tegenstelling tot de Kd-boom - zou het roteren geen enkel effect mogen hebben.


Ondanks de theoretische superioriteit worden in de praktijk de Kd-bomen boven de BSP-bomen verkozen.
Er wordt algemeen aangenomen dat BSP-bomen niet bruikbaar zijn omdat ze numeriek instabiel, kostelijk om te doorkruisen en te moeilijk om goed te bouwen zouden zijn.
De numerieke instabiliteit zou volgen uit de beperkte precisie van vlottende komma getallen.  
Het doorkruisen is duurder omdat het berekenen van de afstand van een straal tot een willekeurig vlak een scalair product en een deling vraagt in tegenstelling tot de afstand van een straal tot een as-gealigneerd vlak wat enkel een verschil en een deling vraagt.
Een optimale Kd-boom is - in tegenstelling tot een optimale BSP-boom - niet in staat alle objecten in individuele bladeren onder te verdelen omdat er niet altijd een as-gealigneerd vlak bestaat dat de objecten mooi van elkaar scheidt.  
Dit leidt tot meer straal - object intersectietesten, maar mogelijks wel minder doorkruis stappen.
In het algemeen wordt aangenomen dat het groter aantal intersectietesten wordt goedgemaakt door de snellere doorkruising bij de Kd-boom.
De extra flexibiliteit van de BSP-boom zorgt ervoor dat er $\symO(n^3)$ mogelijke splitsingsvlakken gecontroleerd moeten worden tijdens het bouwproces in tegenstelling tot $6n$ mogelijke splitsingsvlakken bij de Kd-boom.


Ize et al tonen in \cite{Ize} aan dat een algemene BSP-boom even efficiënt en vaak zelfs efficiënter kan zijn dan een Kd-boom om te renderen en dat de snellere doorkruising bij de Kd-boom niet voldoende is om het groter aantal straal - object intersecties goed te maken.
De bouwtijd van de BSP boom is wel een aantal grootteordes groter dan die van de Kd-boom. 

Eén van de optimalisaties die Ize et al doen, gebruikt de goedkopere doorkruis techniek van de Kd-bomen als het splitsingsvlak (toevallig) as-gealigneerd is. 

Restricted Binary Space Partitioning bomen of afgekort RBSP-bomen werden geïntroduceerd door Kammaje en More \cite{Kammaje}.
RBSP-bomen zijn BSP-bomen waarbij de mogelijke splitsingsvlakken beperkt worden tot een kleine verzameling van vlakken voordat de boom geconstrueerd wordt. 
RBSP-bomen lijken op Kd-bomen omdat ze beiden splitsingsvlakken uit een voorafbepaalde verzameling vlakken kiezen.
Tegelijkertijd lijken ze meer op algemene BSP-bomen omdat de vlakken niet as-gealigneerd moeten zijn en het aantal vlakken niet gelimiteerd is tot drie.
De RBSP-boom kan de objecten strakker omhullen en dit zorgt voor minder doorkruisstappen en driehoek intersecties dan Kd-bomen. 
Budge (\cite{Budge}) optimaliseerde het bouwen en doorkruisen van RBSP-bomen.

\subsection{Een item}

\section{Besluit van dit hoofdstuk}
